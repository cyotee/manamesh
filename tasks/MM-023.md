# Task MM-023: One Piece TCG Game Module

**Repo:** ManaMesh
**Status:** Blocked
**Created:** 2026-01-21
**Dependencies:** MM-019, MM-020
**Worktree:** `feature/game-onepiece`

---

## Description

Implement the One Piece Trading Card Game module. This is the first TCG-style game, validating more complex zone systems and game mechanics.

## Dependencies

- MM-019: Core Game Module Interface
- MM-020: Deck Plugin for boardgame.io

## User Stories

### US-MM-023.1: One Piece Game Play

As a player, I want to play One Piece TCG so that I can validate TCG mechanics.

**Acceptance Criteria:**
- [ ] Module exports boardgame.io Game object
- [ ] One Piece card schema (OnePieceCard extends CoreCard)
- [ ] Leader card in leader zone
- [ ] Character cards with power values
- [ ] Event and Stage cards
- [ ] DON!! cards as resource system
- [ ] Attack and block mechanics
- [ ] Life damage system
- [ ] Zones: deck, hand, field, trash, life, DON!! deck
- [ ] Tests cover game flow

## Technical Details

### Card Schema

```typescript
interface OnePieceCard extends CoreCard {
  cardType: 'leader' | 'character' | 'event' | 'stage';
  color: 'red' | 'green' | 'blue' | 'purple' | 'black' | 'yellow';
  cost?: number;
  power?: number;
  counter?: number;
  attributes?: string[];
  effect?: string;
  trigger?: string;
}
```

### Zones

| Zone | Visibility | Ordered | Shared |
|------|------------|---------|--------|
| deck | hidden | yes | no |
| hand | owner-only | no | no |
| field | public | no | no |
| leader | public | no | no |
| trash | public | yes | no |
| life | hidden | yes | no |
| don | public | no | no |

## Files to Create/Modify

**New:**
- `packages/frontend/src/game/modules/onepiece/index.ts`
- `packages/frontend/src/game/modules/onepiece/types.ts`
- `packages/frontend/src/game/modules/onepiece/game.ts`

**Tests:**
- `packages/frontend/src/game/modules/onepiece/game.test.ts`

## Completion Criteria

- [ ] All acceptance criteria met
- [ ] Basic game flow works
- [ ] Tests pass
- [ ] Build succeeds

---

**When complete, output:** `<promise>TASK_COMPLETE</promise>`

**If blocked, output:** `<promise>TASK_BLOCKED: [reason]</promise>`
