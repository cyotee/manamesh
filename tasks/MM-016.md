# Task MM-016: IPFS Code Cleanup and Test Improvements

**Repo:** ManaMesh
**Status:** Ready
**Created:** 2026-01-21
**Dependencies:** None
**Worktree:** `feature/ipfs-cleanup`
**Origin:** Code review finding from MM-006

---

## Description

Low-priority cleanup items from MM-006 code review:

1. **Unused import:** `packages/frontend/src/assets/cache.ts` imports `keys` from `idb-keyval` but never uses it.

2. **Incomplete LRU test:** `packages/frontend/src/assets/cache.test.ts` LRU eviction test doesn't assert outcomes (ends with a comment), so it won't catch regressions in eviction behavior.

(Created from code review of MM-006 - Low severity findings)

## Dependencies

- None (MM-006 is complete)

## User Stories

### US-MM-016.1: Code Cleanup

As a developer, I want clean code without unused imports so that the codebase is maintainable.

**Acceptance Criteria:**
- [ ] Remove unused `keys` import from cache.ts
- [ ] No other unused imports in IPFS-related files
- [ ] Tests pass
- [ ] Build succeeds

### US-MM-016.2: Complete LRU Test

As a developer, I want the LRU eviction test to have proper assertions so that regressions are caught.

**Acceptance Criteria:**
- [ ] LRU eviction test asserts expected outcomes
- [ ] Test verifies oldest items are evicted first
- [ ] Test verifies cache stays within quota
- [ ] Tests pass
- [ ] Build succeeds

## Files to Create/Modify

**Modified Files:**
- `packages/frontend/src/assets/cache.ts` (remove unused import)
- `packages/frontend/src/assets/cache.test.ts` (complete LRU test)

## Inventory Check

Before starting, verify:
- [ ] Files exist in packages/frontend/src/assets/

## Completion Criteria

- [ ] All acceptance criteria met
- [ ] No unused imports
- [ ] LRU test has assertions
- [ ] Tests pass
- [ ] Build succeeds

---

**When complete, output:** `<promise>TASK_COMPLETE</promise>`

**If blocked, output:** `<promise>TASK_BLOCKED: [reason]</promise>`
